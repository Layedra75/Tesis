<script>
  document.addEventListener('DOMContentLoaded', function() {
    var calendarEl = document.getElementById('calendar');
    var calendar = new FullCalendar.Calendar(calendarEl, {
      timeZone: 'local',
      locale: 'es',
      initialView: 'dayGridMonth',
      headerToolbar: {
        left: 'prev,next today',
        center: 'title',
        right: 'dayGridMonth,timeGridWeek,timeGridDay'
      },
      buttonText: {
        today: 'Hoy',
        month: 'Mes',
        week: 'Semana',
        day: 'Día'
      },
      dateClick: function(info) {
        // Abre el modal utilizando Bootstrap y pasa la fecha del día clickeado
        $('#myModal').modal('show');
        $('#event-date').text('Fecha: ' + info.date.toLocaleDateString());
      },
      eventClick: function(info) {
        // Abre el modal utilizando Bootstrap y pasa la fecha del evento
        $('#myModal').modal('show');
        $('#event-date').text('Fecha: ' + info.event.start.toLocaleDateString());
      },
    });
    calendar.render();
  });
</script>

<div class="container mt-4">
  <div class="card">
    <div class="card-header">
      <h1 class="card-title">Citas Médicas</h1>
    </div>
    <div class="card-body">
      <div id='calendar'></div>
    </div>
  </div>
</div>

<!-- Incluye el modal  -->
<%- include('../partials/modalCitas.ejs') %>
